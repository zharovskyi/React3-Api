(window.webpackJsonpsearch=window.webpackJsonpsearch||[]).push([[0],{10:function(e,a,t){e.exports={gallery:"Gallery_gallery__3RNHd",button:"Gallery_button__3HT1a"}},12:function(e,a,t){e.exports={basicLightbox:"Modal_basicLightbox__1Btli",modalContent:"Modal_modalContent__1rYYD"}},2:function(e,a,t){e.exports={photoCard:"PhotoCard_photoCard__9cvQ3",stats:"PhotoCard_stats__3XRLi",statsItem:"PhotoCard_statsItem__3wwLs",fullscreenButton:"PhotoCard_fullscreenButton__kFCfE"}},25:function(e,a,t){},26:function(e,a,t){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},27:function(e,a,t){e.exports=t(50)},50:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(23),l=t.n(r),s=t(13),c=t(24),i=t(3),m=t.n(i),u=t(11),p=t(4),d=t(5),h=t(8),g=t(6),f=t(9),b=t(25),v=t.n(b),y=t(26),E=t.n(y),w=function(e){var a=e.onSubmit,t=e.value,n=e.onChange;return o.a.createElement("form",{className:E.a.searchForm,onSubmit:a},o.a.createElement("input",{type:"text",name:"query",value:t,placeholder:"Search images...",onChange:n}))},_=t(2),C=t.n(_),k=function(e){var a=e.webformatURL,t=e.type,n=e.likes,r=e.views,l=e.comments,s=e.downloads,c=e.openModal,i=e.largeImageUrl;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:C.a.photoCard},o.a.createElement("img",{src:a,alt:t}),o.a.createElement("div",{className:C.a.stats},o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),l),o.a.createElement("p",{className:C.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),s)),o.a.createElement("button",{type:"button",className:C.a.fullscreenButton,onClick:function(){return c(i)}},o.a.createElement("i",{className:"material-icons",style:{pointerEvents:"none"}},"zoom_out_map"))))},I=t(10),M=t.n(I),O=function(e){var a=e.images,t=e.onClick,n=e.openModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:M.a.gallery},a.map(function(e){return o.a.createElement("li",{key:e.id,className:M.a.galleryItem},o.a.createElement(k,{webformatURL:e.webformatURL,type:e.type,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,largeImageUrl:e.largeImageURL,openModal:n}))})),o.a.createElement("button",{className:M.a.button,onClick:t},"Load More"))},L=t(7),N=t.n(L),j="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=",x="&per_page=4&key=13241537-06d8871706b8937518ecf25ca",S=function(e,a){return console.log("object",j+e+"&page="+a+x),N.a.get(j+e+"&page="+a+x)},U=t(12),F=t.n(U),q=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(h.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(o)))).onCloseModal=function(e){27===e.which&&(t.props.handleCloseModal(),console.log("It's working"))},t.stopPropagation=function(e){e.stopPropagation()},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onCloseModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onCloseModal)}},{key:"render",value:function(){var e=this.props,a=e.largeImageUrl,t=e.handleCloseModal;return o.a.createElement("div",{onClick:t,className:F.a.basicLightbox},o.a.createElement("div",{className:F.a.modalContent,onClick:this.stopPropagation},o.a.createElement("img",{width:600,height:400,src:a,alt:"foto"})))}}]),a}(n.Component),P={fontSize:40,color:"green"},A=function(){return o.a.createElement("p",{style:P},"Loading...")},R=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(h.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(o)))).state={query:"",page:1,images:[],isLoading:!1,isOpen:!1,largeImageUrl:""},t.fetchImageAsyncAwait=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,o,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.setState({isLoading:!0}),n=t.state,o=n.page,r=n.query,e.next=5,S(r,o);case 5:l=e.sent,t.setState({images:l.data.hits,isLoading:!1,page:o+1});case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleChangeInput=function(e){var a=e.target,n=a.name,o=a.value;t.setState(Object(c.a)({},n,o))},t.handleClickLoadMore=function(){var e=Object(u.a)(m.a.mark(function e(a){var n,o,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,o=n.page,r=n.query,e.next=3,S(r,o);case 3:l=e.sent,t.setState(function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(l.data.hits)),isLoading:!1}});case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.handleOpenModal=function(e){t.setState({isOpen:!0,largeImageUrl:e})},t.handleCloseModal=function(){t.setState({isOpen:!1})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=cat&page=1&per_page=4&key=13241537-06d8871706b8937518ecf25ca").then(function(a){return e.setState({images:a.data.hits})})}},{key:"render",value:function(){var e=this.state,a=e.query,t=e.images,n=e.isLoading,r=e.isOpen,l=e.largeImageUrl;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:v.a.app},o.a.createElement(w,{onSubmit:this.fetchImageAsyncAwait,onChange:this.handleChangeInput,value:a}),n?o.a.createElement(A,null):o.a.createElement(O,{images:t,openModal:this.handleOpenModal,onClick:this.handleClickLoadMore}),r&&o.a.createElement(q,{largeImageUrl:l,handleCloseModal:this.handleCloseModal})))}}]),a}(n.Component);l.a.render(o.a.createElement(R,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.0afe83b2.chunk.js.map